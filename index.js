!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.SimpleAnimate={})}(this,function(e){"use strict";var t={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},n=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(e){return parseFloat(e)},o=function(e){if(e.indexOf("px")>=0)return"px";if(e.indexOf("%")>=0)return"%";if(e.indexOf("em")>=0)return"em";if(e.indexOf("rem")>=0)return"rem";throw new Error("The unit of "+e+" can't be allocated, please on of the following units to animate: px, %, em, rem")},i=function(e,i){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=!1,f="linear",c=void 0,l=void 0;if(1==(arguments.length<=3?0:arguments.length-3)&&"string"==typeof(arguments.length<=3?void 0:arguments[3])?f=arguments.length<=3?void 0:arguments[3]:1==(arguments.length<=3?0:arguments.length-3)&&(arguments.length<=3?void 0:arguments[3])instanceof Function?c=arguments.length<=3?void 0:arguments[3]:(arguments.length<=3?0:arguments.length-3)>1&&"string"==typeof(arguments.length<=3?void 0:arguments[3])?(f=arguments.length<=3?void 0:arguments[3],c=arguments.length<=4?void 0:arguments[4],l=arguments.length<=5?void 0:arguments[5]):(arguments.length<=3?0:arguments.length-3)>1&&(arguments.length<=3?void 0:arguments[3])instanceof Function&&(c=arguments.length<=3?void 0:arguments[3],l=arguments.length<=4?void 0:arguments[4]),!t[f]||t[f]instanceof Function==!1)throw new Error("The easing "+f+" does not exist, please use one of the following: "+Object.keys(t).join(", "),t);var p=window.getComputedStyle(e),s=Object.entries(i).reduce(function(e,t){var i=n(t,2),u=i[0],a=i[1];return e.push({property:u,propUnit:o(a),propStart:r(p.getPropertyValue(u)),propFinish:r(a),get difference(){return this.propFinish-this.propStart}}),e},[]),d=void 0,h=void 0;return requestAnimationFrame(function n(r){if(a)l&&c&&c instanceof Function&&c();else{if(d||(d=r),(h=r-d)>u)return s.forEach(function(t){e.style.setProperty(t.property,t.propFinish+t.propUnit)}),void(c&&c instanceof Function&&c());requestAnimationFrame(n);var o=t[f](1/u*h);s.forEach(function(t){e.style.setProperty(t.property,t.difference*o+t.propStart+t.propUnit)})}}),function(){a=!0}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"linear";return new Promise(function(o,u){try{i(e,t,n,r,o)}catch(e){u(e)}})};e.animate=i,e.animateAsPromise=u,e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"customAnimate",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customAnimateAsPromise";if(Element.prototype[e])throw new Error("Element.prototype."+e+" is already taken, "+e+"\n            can't be added onto the Element.prototype");if(Element.prototype[e]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(void 0,[this].concat(t))},Element.prototype[t])throw new Error("Element.prototype."+t+" is already taken, "+t+"\n            can't be added onto the Element.prototype");Element.prototype[t]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,[this].concat(t))}},Object.defineProperty(e,"__esModule",{value:!0})});
